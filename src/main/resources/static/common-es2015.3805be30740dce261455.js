(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{WaYN:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var r=a("fXoL"),s=a("tk/3");let n=(()=>{class e{constructor(e){this.http=e}getLayers(e,t,a,r,s){let n=this.buildParams(e,t,a,r,s);return this.http.get(`/api/layers?${n}`)}buildParams(e,t,a,r,s){let n="";return null!=e&&(n+=`name=${e}&`),null!=t&&(n+=`access_granted=${t}&`),null!=r&&(n+=`page=${r}&`),null!=s&&(n+=`size=${s}&`),null!=a&&(n+=`visible=${a}&`),n}getLayer(e){return this.http.get(`/api/layers/${e}`)}getLayerByName(e){return this.http.get(`/api/layers/name/${e}`)}saveAccessRequest(e){return this.http.post("/api/access-request",e)}getWorkspace(e){return this.http.get(`/api/workspaces/${e}`)}buildTree(e){return Object.keys(e).reduce((t,a)=>{let r=e[a],s={};return s.label=r.name,s.data=r,s.data.object="workspace",s.leaf=!r.hasChildren,s.data.icon="pi pi-fw pi-images",null!=r&&(s.children="object"==typeof r.childrens&&r.childrens.length>0?this.buildTree(r.childrens):[]),t.concat(s)},[])}getWorkspaces(e,t,a){let r=this.buildWorkspaceParamsFilter(e,t,a);return this.http.get(`/api/workspaces?${r}`)}buildWorkspaceParamsFilter(e,t,a){let r="";return null!=e&&(r+=`name=${e}&`),null!=t&&(r+=`page=${t}&`),null!=a&&(r+=`size=${a}&`),r}verifyAccess(e,t,a){const r=new FormData;return r.append("accessToken",e),r.append("email",t),r.append("layerId",a.toString()),this.http.post("/api/access-request/validate-access",r)}getXmlData(e){return this.http.get(`/api/files/${e}`)}}return e.\u0275fac=function(t){return new(t||e)(r.Wb(s.b))},e.\u0275prov=r.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);